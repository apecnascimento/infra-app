nameOverride: "infra-app"
fullnameOverride: ""

web:
  ## image repository
  image: gcr.io/magnetis-gullit-test/infra-app_web
  imageTag: latest

  ## Specify a imagePullPolicy
  ## 'Always' if imageTag is 'latest', else set to 'IfNotPresent'
  ## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images
  ##
  imagePullPolicy: Always

  # initial number of replicas
  replicas: 1

  # default autoscale configurations
  minReplicas: 1
  maxReplicas: 10
  targetCPUUtilization: 50
  targetMemoryUtilization: 70

  resources:
    requests:
      memory: "30Mi"
      cpu: "30m"
    limits:
      memory: "200Mi"
      cpu: "200m"

  httpPort: 5000

  service:
    ## Service type can be set to ClusterIP, NodePort or LoadBalancer .
    ##
    type: LoadBalancer

    port: 80

    annotations:
      # cloud.google.com/neg: '{"ingress": true}'

  ingress:
    enabled: false
    annotations:
      {}
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
    path: /
    hosts:
      - chart-example.local
    tls: []
    #  - secretName: chart-example-tls
    #    hosts:
    #      - chart-example.local

redis:
  enabled: true

  ## Bitnami Redis image version
  ## ref: https://hub.docker.com/r/bitnami/redis/tags/
  ##
  image:
    registry: docker.io
    repository: bitnami/redis
    ## Bitnami Redis image tag
    ## ref: https://github.com/bitnami/bitnami-docker-redis#supported-tags-and-respective-dockerfile-links
    ##
    tag: 5.0.3
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images
    ##
    pullPolicy: Always
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ##
    # pullSecrets:
    #   - myRegistrKeySecretName

  # TODO: enable RBAC
  # serviceAccount:
  #   ## Specifies whether a ServiceAccount should be created
  #   ##
  #   create: false
  #   ## The name of the ServiceAccount to use.
  #   ## If not set and create is true, a name is generated using the fullname template
  #   name:

  cluster:
    enabled: false
